<!DOCTYPE html>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Tipue Search Static Mode Demo</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400|Merriweather:300,300italic" rel="stylesheet">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script type="text/javascript" src="tipuesearch/tipuesearch_set.js"></script>
<script type="text/javascript">
	var entries; //don't name any variable as 'history' (for some reason it doesn't work)! 
	$.ajax({
		dataType: "json",
		url: "data/history.js",
		async: false,
		//success: function(data){entries = data;}
	}).done(function(data){entries = data;});

	var entry;
	var tipuesearch = {"pages": []};

	$.each(entries, function(ed, edition){
		$.each(edition, function(tWork, typeWork){ //presentation or article
			$.each(typeWork, function(j, work){
				entry = {"title": "", "text": "", "tags": "", "url": ""};
				entry.url = work.url;
				entry.title = work.title;
				entry.text = work.authors + " - " + work.affiliation;
				entry.tags = ed + ", " + tWork;
				tipuesearch.pages.push(entry);
			});
		});
	});

	$.ajax({
		dataType: "script",
		url: "tipuesearch/tipuesearch.min.js",
		async: false //This option is very important! It guarantees that this file is loaded before test.js
	});

	$.getScript("test.js");
</script>
<link rel="stylesheet" type="text/css" href="tipuesearch/tipuesearch.css">

</head>

<body>

<div class="block" style="padding-top: 39px;">

<form action="search.html">
	<input type="text" name="q" id="tipue_search_input" autocomplete="off" required>
</form>

<div id="tipue_search_content"></div>

<div class="center ital" style="padding: 39px 0 30px 0;">&copy; 2015, <a href="http://www.tipue.com">Tipue</a>. Made in London.</div>

</body>
</html>
